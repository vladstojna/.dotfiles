set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
set -s escape-time 0
set -g focus-events on
set -g mouse on
set -g mode-keys vi
set -g status-keys emacs

set -g prefix M-a
unbind C-b
bind M-a send-prefix

bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

bind -n M-k next-window
bind -n M-j previous-window
bind -n M-o last-window
bind -n M-K {
    swap-window -t +1
    select-window -t +1
}
bind -n M-J {
    swap-window -t -1
    select-window -t -1
}
bind -n M-Left select-pane -L
bind -n M-Down select-pane -D
bind -n M-Up select-pane -U
bind -n M-Right select-pane -R

bind -T root M-A {
    set prefix None
    set key-table off
    set -a status-left "#[bold,fg=#f7768e] #S  "
}
bind -T off M-A {
    set -u prefix
    set -u key-table
    set -u status-left
}
bind A send-keys M-A

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

source "$HOME/.config/tmux/theme.tmux"

if-shell 'test -n "$SSH_CLIENT"' {
    set-hook -g after-new-session 'source-file $HOME/.config/tmux/remote.conf'
}

run "$HOME/.tmux/plugins/tpm/tpm"
